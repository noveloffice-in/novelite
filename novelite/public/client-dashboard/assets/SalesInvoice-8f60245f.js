import{r as f,u as xe,A as se,_ as c,j as e,K as _e,Z as K,P as V,e as Te,V as $e}from"./index-5a3f6a76.js";import{r as O}from"./createSvgIcon-7fadfa12.js";import"./ParentCard-c5ed7ebd.js";import{S as Me}from"./Stack-84eaf471.js";import{B as $}from"./Box-4fe6d763.js";import{a as me,g as be,s as S,d as U,b as ve,T as p}from"./Typography-36c6dc69.js";import{S as fe,F as ke,I as Ae}from"./Select-306a1d3d.js";import{M as Pe}from"./MenuItem-e66f9b8b.js";import{M as Ne}from"./Paper-73496770.js";import{f as De,F as Fe,L as ze,d as m,T as qe,a as Ue,b as He,c as W,e as Ke}from"./TableRow-f242d18b.js";import{C as Oe}from"./Chip-fda8fc18.js";import{L as Ee}from"./Link-71046a3e.js";import{c as je,i as Ge,u as Ve,G as q}from"./Grid-40636f23.js";import{I as w}from"./IconButton-7b3a7669.js";import{T as We}from"./Toolbar-73ce37f9.js";import{a as pe}from"./useControlled-ede9ea79.js";import{I as Ze}from"./ListContext-24007cb6.js";import{P as Je}from"./PageContainer-ec8a92a5.js";import{B as Qe}from"./Breadcrumb-fdd77327.js";import"./ownerWindow-46c4bc4a.js";import"./Card-f5a04433.js";import"./CardHeader-64a3d8c5.js";import"./Divider-0b7a029c.js";import"./dividerClasses-1168dda4.js";import"./CardContent-66ebae48.js";import"./createStack-3bc4d5d9.js";import"./styled-071a7d88.js";import"./useFormControl-c4cdf3b7.js";import"./Modal-4ae20275.js";import"./useSlotProps-52eb16c2.js";import"./listItemTextClasses-201dc23b.js";import"./index.esm-21a277c7.js";function Xe(t){return me("MuiTableFooter",t)}be("MuiTableFooter",["root"]);const Ye=["className","component"],et=t=>{const{classes:o}=t;return ve({root:["root"]},Xe,o)},tt=S("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,o)=>o.root})({display:"table-footer-group"}),ot={variant:"footer"},he="tfoot",st=f.forwardRef(function(o,l){const n=xe({props:o,name:"MuiTableFooter"}),{className:u,component:i=he}=n,b=se(n,Ye),r=c({},n,{component:i}),a=et(r);return e.jsx(De.Provider,{value:ot,children:e.jsx(tt,c({as:i,className:U(a.root,u),ref:l,role:i===he?null:"rowgroup",ownerState:r},b))})}),nt=st,at=je(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),rt=je(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),lt=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],it=f.forwardRef(function(o,l){var n,u,i,b,r,a,B,d;const{backIconButtonProps:M,count:y,disabled:C=!1,getItemAriaLabel:s,nextIconButtonProps:_,onPageChange:k,page:g,rowsPerPage:R,showFirstButton:L,showLastButton:A,slots:I={},slotProps:h={}}=o,J=se(o,lt),x=_e(),Q=T=>{k(T,0)},X=T=>{k(T,g-1)},N=T=>{k(T,g+1)},v=T=>{k(T,Math.max(0,Math.ceil(y/R)-1))},P=(n=I.firstButton)!=null?n:w,D=(u=I.lastButton)!=null?u:w,F=(i=I.nextButton)!=null?i:w,E=(b=I.previousButton)!=null?b:w,z=(r=I.firstButtonIcon)!=null?r:Fe,G=(a=I.lastButtonIcon)!=null?a:ze,j=(B=I.nextButtonIcon)!=null?B:rt,ce=(d=I.previousButtonIcon)!=null?d:at,Ce=x?D:P,Re=x?F:E,Se=x?E:F,ye=x?P:D,Le=x?h.lastButton:h.firstButton,ue=x?h.nextButton:h.previousButton,de=x?h.previousButton:h.nextButton,we=x?h.firstButton:h.lastButton;return e.jsxs("div",c({ref:l},J,{children:[L&&e.jsx(Ce,c({onClick:Q,disabled:C||g===0,"aria-label":s("first",g),title:s("first",g)},Le,{children:x?e.jsx(G,c({},h.lastButtonIcon)):e.jsx(z,c({},h.firstButtonIcon))})),e.jsx(Re,c({onClick:X,disabled:C||g===0,color:"inherit","aria-label":s("previous",g),title:s("previous",g)},ue!=null?ue:M,{children:x?e.jsx(j,c({},h.nextButtonIcon)):e.jsx(ce,c({},h.previousButtonIcon))})),e.jsx(Se,c({onClick:N,disabled:C||(y!==-1?g>=Math.ceil(y/R)-1:!1),color:"inherit","aria-label":s("next",g),title:s("next",g)},de!=null?de:_,{children:x?e.jsx(ce,c({},h.previousButtonIcon)):e.jsx(j,c({},h.nextButtonIcon))})),A&&e.jsx(ye,c({onClick:v,disabled:C||g>=Math.ceil(y/R)-1,"aria-label":s("last",g),title:s("last",g)},we,{children:x?e.jsx(z,c({},h.firstButtonIcon)):e.jsx(G,c({},h.lastButtonIcon))}))]}))}),ct=it;function ut(t){return me("MuiTablePagination",t)}const dt=be("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),H=dt;var ge;const pt=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],ht=S(m,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),gt=S(We,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,o)=>c({[`& .${H.actions}`]:o.actions},o.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${H.actions}`]:{flexShrink:0,marginLeft:20}})),xt=S("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,o)=>o.spacer})({flex:"1 1 100%"}),mt=S("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,o)=>o.selectLabel})(({theme:t})=>c({},t.typography.body2,{flexShrink:0})),bt=S(fe,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,o)=>c({[`& .${H.selectIcon}`]:o.selectIcon,[`& .${H.select}`]:o.select},o.input,o.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${H.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),vt=S(Pe,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,o)=>o.menuItem})({}),ft=S("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,o)=>o.displayedRows})(({theme:t})=>c({},t.typography.body2,{flexShrink:0}));function Pt({from:t,to:o,count:l}){return`${t}–${o} of ${l!==-1?l:`more than ${o}`}`}function jt(t){return`Go to ${t} page`}const Bt=t=>{const{classes:o}=t;return ve({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},ut,o)},It=f.forwardRef(function(o,l){var n;const u=xe({props:o,name:"MuiTablePagination"}),{ActionsComponent:i=ct,backIconButtonProps:b,className:r,colSpan:a,component:B=m,count:d,disabled:M=!1,getItemAriaLabel:y=jt,labelDisplayedRows:C=Pt,labelRowsPerPage:s="Rows per page:",nextIconButtonProps:_,onPageChange:k,onRowsPerPageChange:g,page:R,rowsPerPage:L,rowsPerPageOptions:A=[10,25,50,100],SelectProps:I={},showFirstButton:h=!1,showLastButton:J=!1,slotProps:x={},slots:Q={}}=u,X=se(u,pt),N=u,v=Bt(N),P=(n=x==null?void 0:x.select)!=null?n:I,D=P.native?"option":vt;let F;(B===m||B==="td")&&(F=a||1e3);const E=pe(P.id),z=pe(P.labelId),G=()=>d===-1?(R+1)*L:L===-1?d:Math.min(d,(R+1)*L);return e.jsx(ht,c({colSpan:F,ref:l,as:B,ownerState:N,className:U(v.root,r)},X,{children:e.jsxs(gt,{className:v.toolbar,children:[e.jsx(xt,{className:v.spacer}),A.length>1&&e.jsx(mt,{className:v.selectLabel,id:z,children:s}),A.length>1&&e.jsx(bt,c({variant:"standard"},!P.variant&&{input:ge||(ge=e.jsx(Ze,{}))},{value:L,onChange:g,id:E,labelId:z},P,{classes:c({},P.classes,{root:U(v.input,v.selectRoot,(P.classes||{}).root),select:U(v.select,(P.classes||{}).select),icon:U(v.selectIcon,(P.classes||{}).icon)}),disabled:M,children:A.map(j=>f.createElement(D,c({},!Ge(D)&&{ownerState:N},{className:v.menuItem,key:j.label?j.label:j,value:j.value?j.value:j}),j.label?j.label:j))})),e.jsx(ft,{className:v.displayedRows,children:C({from:d===0?0:R*L+1,to:G(),count:d===-1?-1:d,page:R})}),e.jsx(i,{className:v.actions,backIconButtonProps:b,count:d,nextIconButtonProps:_,onPageChange:k,page:R,rowsPerPage:L,showFirstButton:h,showLastButton:J,slotProps:x.actions,slots:Q.actions,getItemAriaLabel:y,disabled:M})]})}))}),Ct=It;var ne={},Rt=K;Object.defineProperty(ne,"__esModule",{value:!0});var Y=ne.default=void 0,St=Rt(O()),yt=e;Y=ne.default=(0,St.default)((0,yt.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft");var ae={},Lt=K;Object.defineProperty(ae,"__esModule",{value:!0});var ee=ae.default=void 0,wt=Lt(O()),_t=e;ee=ae.default=(0,wt.default)((0,_t.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight");var re={},Tt=K;Object.defineProperty(re,"__esModule",{value:!0});var te=re.default=void 0,$t=Tt(O()),Mt=e;te=re.default=(0,$t.default)((0,Mt.jsx)("path",{d:"M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");var le={},kt=K;Object.defineProperty(le,"__esModule",{value:!0});var oe=le.default=void 0,At=kt(O()),Nt=e;oe=le.default=(0,At.default)((0,Nt.jsx)("path",{d:"M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");var ie={},Dt=K;Object.defineProperty(ie,"__esModule",{value:!0});var Be=ie.default=void 0,Ft=Dt(O()),zt=e;Be=ie.default=(0,Ft.default)((0,zt.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5z"}),"FileDownloadOutlined");function Ie(t){const o=Ve(),{count:l,page:n,rowsPerPage:u,onPageChange:i}=t,b=d=>{i(d,0)},r=d=>{i(d,n-1)},a=d=>{i(d,n+1)},B=d=>{i(d,Math.max(0,Math.ceil(l/u)-1))};return e.jsxs($,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(w,{onClick:b,disabled:n===0,"aria-label":"first page",children:o.direction==="rtl"?e.jsx(oe,{}):e.jsx(te,{})}),e.jsx(w,{onClick:r,disabled:n===0,"aria-label":"previous page",children:o.direction==="rtl"?e.jsx(ee,{}):e.jsx(Y,{})}),e.jsx(w,{onClick:a,disabled:n>=Math.ceil(l/u)-1,"aria-label":"next page",children:o.direction==="rtl"?e.jsx(Y,{}):e.jsx(ee,{})}),e.jsx(w,{onClick:B,disabled:n>=Math.ceil(l/u)-1,"aria-label":"last page",children:o.direction==="rtl"?e.jsx(te,{}):e.jsx(oe,{})})]})}Ie.propTypes={count:V.number.isRequired,onPageChange:V.func.isRequired,page:V.number.isRequired,rowsPerPage:V.number.isRequired};function qt({data:t,statusFilter:o,setStatusFilter:l}){var C;const[n,u]=f.useState(0),[i,b]=f.useState(5),[r,a]=f.useState(t);f.useEffect(()=>{a(o==="Pending"?t==null?void 0:t.filter(s=>s.status==="Overdue"||s.status==="Unpaid"||s.status==="Partly Paid"||s.status==="Unpaid and Discounted"||s.status==="Overdue and Discounted"||s.status==="Partly Paid and Discounted"):o==="Paid"?t==null?void 0:t.filter(s=>s.status==="Paid"||s.status==="Credit Note Issued"):o==="Credit Note"?t==null?void 0:t.filter(s=>s.status==="Return"):t)},[o]);const B=n>0?Math.max(0,(1+n)*i-(r==null?void 0:r.length)):0,d=(s,_)=>{u(_)},M=s=>{b(parseInt(s.target.value,10)),u(0)};let y=["ALL","Pending","Paid","Credit Note"];return e.jsxs(Me,{children:[e.jsxs($,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx($,{children:e.jsx(p,{children:"Invoice List"})}),e.jsx($,{sx:{mb:2},children:e.jsxs(ke,{sx:{m:1,minWidth:140},children:[e.jsx(Ae,{id:"demo-simple-select-autowidth-label",children:"Status"}),e.jsx(fe,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:o,label:"Status",onChange:s=>l(s.target.value),children:y.map((s,_)=>e.jsx(Pe,{value:s,children:s},s+_))})]})})]}),e.jsx(Ne,{variant:"outlined",children:e.jsx(qe,{children:e.jsxs(Ue,{"aria-label":"custom sales invoice",sx:{whiteSpace:"nowrap"},children:[e.jsx(He,{children:e.jsxs(W,{children:[e.jsx(m,{children:e.jsx(p,{variant:"h6",children:"Invoice No."})}),e.jsx(m,{children:e.jsx(p,{variant:"h6",children:"Invoice Amount"})}),e.jsx(m,{children:e.jsx(p,{variant:"h6",children:"Due Date"})}),e.jsx(m,{children:e.jsx(p,{variant:"h6",children:"Location"})}),e.jsx(m,{children:e.jsx(p,{variant:"h6",children:"Status"})}),e.jsx(m,{children:e.jsx(p,{variant:"h6",children:"Download"})})]})}),e.jsxs(Ke,{children:[(C=i>0?r==null?void 0:r.slice(n*i,n*i+i):r)==null?void 0:C.map(s=>e.jsxs(W,{children:[e.jsx(m,{children:e.jsx(p,{variant:"h6",children:s.name})}),e.jsx(m,{children:e.jsxs(p,{color:"textSecondary",variant:"h6",fontWeight:"400",children:["₹ ",s.rounded_total]})}),e.jsx(m,{children:e.jsx(p,{variant:"h6",children:s.due_date})}),e.jsx(m,{children:e.jsx(p,{color:"textSecondary",variant:"h6",fontWeight:"400",children:s.location===null?"----":s.location})}),e.jsx(m,{children:e.jsx(Oe,{color:o==="Paid"?"success":o==="Credit Note"?"error":o==="Pending"?"primary":"secondary",sx:{borderRadius:"6px"},size:"small",label:o==="All"?s.status==="Credit Note Issued"?"Paid":s.status==="Return"?"Credit Note":s.status:o})}),e.jsx(m,{children:e.jsx($,{color:"secondary",marginLeft:"1.5rem",component:Ee,target:"_blank",href:`http://${window.location.hostname}/api/method/frappe.utils.print_format.download_pdf?doctype=Sales Invoice&name=${s.name}&format=Business Center&no_letterhead=1&letterhead=No Letterhead &settings={}&_lang=en-US`,children:e.jsx(Be,{})})})]},s.name)),B>0&&e.jsx(W,{style:{height:53*B},children:e.jsx(m,{colSpan:6})})]}),e.jsx(nt,{children:e.jsx(W,{children:e.jsx(Ct,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:6,count:r==null?void 0:r.length,rowsPerPage:i,page:n,SelectProps:{inputprops:{"aria-label":"rows per page"},native:!0},onPageChange:d,onRowsPerPageChange:M,ActionsComponent:Ie})})})]})})})]})}const Z=S($)(()=>({padding:"30px",transition:"0.1s ease-in",cursor:"pointer",color:"inherit","&:hover":{transform:"scale(1.03)"}})),Ut=({data:t,setStatusFilter:o})=>{const[l,n]=f.useState([]),[u,i]=f.useState([]),[b,r]=f.useState([]);return f.useEffect(()=>{n(t==null?void 0:t.filter(a=>a.status==="Overdue"||a.status==="Unpaid"||a.status==="Partly Paid"||a.status==="Unpaid and Discounted"||a.status==="Overdue and Discounted"||a.status==="Partly Paid and Discounted")),i(t==null?void 0:t.filter(a=>a.status==="Paid"||a.status==="Credit Note Issued")),r(t==null?void 0:t.filter(a=>a.status==="Return"))},[]),e.jsx($,{mb:2,children:e.jsxs(q,{container:!0,spacing:3,textAlign:"center",children:[e.jsx(q,{item:!0,xs:6,sm:6,lg:3,children:e.jsxs(Z,{onClick:t.length!==0?()=>o("ALL"):void 0,sx:{backgroundColor:"primary.light",color:"primary.main",cursor:t.length!==0?"pointer":"default"},children:[e.jsx(p,{variant:"h3",children:t.length}),e.jsx(p,{variant:"h6",children:"ALL"})]})}),e.jsx(q,{item:!0,xs:6,sm:6,lg:3,children:e.jsxs(Z,{onClick:l.length!==0?()=>o("Pending"):void 0,sx:{backgroundColor:"warning.light",color:"warning.main",cursor:l.length!==0?"pointer":"default"},children:[e.jsx(p,{variant:"h3",children:l.length}),e.jsx(p,{variant:"h6",children:"Pending"})]})}),e.jsx(q,{item:!0,xs:6,sm:6,lg:3,children:e.jsxs(Z,{onClick:u.length!==0?()=>o("Paid"):void 0,sx:{backgroundColor:"success.light",color:"success.main",cursor:u.length!==0?"pointer":"default"},children:[e.jsx(p,{variant:"h3",children:u.length}),e.jsx(p,{variant:"h6",children:"Paid"})]})}),e.jsx(q,{item:!0,xs:6,sm:6,lg:3,children:e.jsxs(Z,{onClick:b.length!==0?()=>o("Credit Note"):void 0,sx:{backgroundColor:"error.light",color:"error.main",cursor:b.length!==0?"pointer":"default"},children:[e.jsx(p,{variant:"h3",children:b.length}),e.jsx(p,{variant:"h6",children:"Credit Note"})]})})]})})},Ht=[{to:"/dashboard",title:"Home"},{title:"Sales Invoice"}],Bo=()=>{const t=Te(r=>r.novelprofileReducer.companyName),[o,l]=f.useState("ALL"),{data:n,error:u,isValidating:i,mutate:b}=$e("Sales Invoice",{fields:["name","status","due_date","rounded_total","location"],filters:[["customer","=",t]],limit_start:0,limit:1e5,orderBy:{field:"creation",order:"desc"}});return e.jsxs(Je,{title:"Sales Invoice - Novel Office",description:"this is Sales Invoice page",children:[e.jsx(Qe,{title:"Sales Invoice",items:Ht}),n&&e.jsx(Ut,{data:n,statusFilter:o,setStatusFilter:l}),n&&e.jsx(qt,{data:n,statusFilter:o,setStatusFilter:l})]})};export{Bo as default};
